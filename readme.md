# KUR_6 Project

## Описание

Проект KUR_6 - это веб-приложение для управления рассылками и пользователями с различными уровнями доступа. Включает в себя функции рассылки сообщений, управления пользователями и блог для продвижения сервиса.

## Установка

### Требования

- Python 3.12
- Django 5.0.6
- Poetry (для управления зависимостями)

### Шаги установки

1. Клонируйте репозиторий:

    ```bash
    git clone git@github.com:meR1D1AN/KUR__6.git
    cd KUR_6-dev1
    ```

2. Установите зависимости с помощью Poetry:

    ```bash
    poetry install
    ```

3. Настройте файл окружения:

    Скопируйте `.env.sample` в `.env` и настройте переменные окружения в файле `.env`.

    ```bash
    cp .env.sample .env
    ```

4. Создание и примените миграции:

    ```bash
    python manage.py makemigrations
    python manage.py migrate
    ```

5. Запустите сервер разработки:

    ```bash
    python manage.py runserver
    ```

## Использование

### Основные функции

- **Управление рассылками**: Создание, просмотр, отключение и удаление рассылок.
- **Управление пользователями**: Регистрация, аутентификация, активация/деактивация пользователей.
- **Блог**: Создание и управление статьями блога.

### Примеры использования

1. **Создание рассылки**:

    Перейдите в раздел "Рассылки" и заполните форму для создания новой рассылки.

2. **Просмотр попыток рассылки**:

    Перейдите в раздел "Попытки рассылки" для просмотра истории отправленных сообщений.

## Структура проекта

- `.env.sample`: Пример файла окружения.
- `.gitignore`: Список файлов и директорий, игнорируемых Git.
- `blog/`: Приложение для управления блогом.
- `config/`: Конфигурационные файлы проекта.
- `fixture/`: Директория с фикстурами для базы данных.
- `manage.py`: Главный управляющий скрипт Django.
- `poetry.lock`: Файл блокировки зависимостей Poetry.
- `pyproject.toml`: Файл конфигурации Poetry.
- `service_customer/`: Приложение для управления рассылками и клиентами.
- `static/`: Директория для статических файлов.
- `users/`: Приложение для управления пользователями.

## Загрузка фикстур

В папке fixture/ находятся три файла с данными, которые можно использовать для начального 
заполнения базы данных. Эти файлы можно загрузить с помощью команды:

```bash
python manage.py loaddata fixture/blog_data.json
python manage.py loaddata fixture/service_customer_data.json
python manage.py loaddata fixture/users_data.json
```

## Команды управления

- **Запуск сервера разработки**:

```bash
python manage.py runserver
```

- **Создание и применение миграций**:

```bash
python manage.py makemigrations
python manage.py migrate
```

- **Создание группы и назначение прав доступа**:

    В папке users/management/commands/ находится файл cg.py, который используется для создания группы пользователей и назначения им прав доступа. Запустите команду следующим образом:

```bash
python manage.py cg
```
- **Создание суперпользователя**:

    В папке users/management/commands/ находится файл csu.py, который используется для создания суперпользователя. Запустите команду следующим образом:

```bash
python manage.py csu
```
- **Ручной запуск отправки сообщений**:

    В папке service_customer/management/commands/ находится файл start_mailing.py, который используется для ручного запуска процесса отправки сообщений. Запустите команду следующим образом:

```bash
python manage.py start_mailing
```

## Лицензия

Этот проект лицензирован под лицензией MIT. Дополнительная информация в файле LICENSE.
